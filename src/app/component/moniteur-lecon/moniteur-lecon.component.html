<div class="container-entrainement">
    <h2 class="main-title">üöó Vos le√ßons de conduite</h2>
  
    <!-- Le√ßons √† venir -->
    <section class="bloc-section fade-in" *ngIf="leconsAVenir.length > 0">
      <h3 class="section-title">üìÖ Le√ßons √† venir</h3>
  
      <div *ngFor="let lecon of leconsAVenir" class="result-card slide-in">
        <div class="infos">
          <p><strong>Date :</strong> {{ lecon.date_lecon | date:'dd/MM/yyyy' }}</p>
          <p><strong>Cr√©neau :</strong> {{ lecon.creneau }}</p>
          <p><strong>√âl√®ve :</strong> {{ lecon.prenom }} {{ lecon.nom }}</p>
          <p><strong>Voiture :</strong> {{ lecon.voiture }}</p>
        </div>
        <div class="d-flex gap-2">
          <button class="btn btn-outline-info btn-sm" (click)="voirDetails(lecon)">D√©tails</button>
          <button class="btn btn-outline-danger btn-sm" (click)="annulerLecon(lecon.id)">Annuler</button>
        </div>
      </div>
    </section>
  
    <!-- Le√ßons pass√©es -->
    <section class="bloc-section fade-in" *ngIf="leconsPassees.length > 0">
      <h3 class="section-title">‚úÖ Le√ßons pass√©es</h3>
  
      <div *ngFor="let lecon of leconsPassees" class="result-card fade-up">
        <div class="infos">
          <p><strong>Date :</strong> {{ lecon.date_lecon | date:'dd/MM/yyyy' }}</p>
          <p><strong>Cr√©neau :</strong> {{ lecon.creneau }}</p>
          <p><strong>√âl√®ve :</strong> {{ lecon.prenom }} {{ lecon.nom }}</p>
          <p><strong>Avis :</strong> {{ lecon.avis || 'Aucun avis renseign√©.' }}</p>
        </div>
        <div class="d-flex gap-2">
          <button class="btn btn-outline-info btn-sm" (click)="voirDetails(lecon)">D√©tails</button>
          <button class="btn btn-outline-warning btn-sm" (click)="ouvrirAvis(lecon)">
            {{ lecon.avis ? 'üìù Modifier l\'avis' : '‚úèÔ∏è R√©diger un avis' }}
          </button>
        </div>
      </div>
    </section>
  
    <!-- d√©tails -->
    <div *ngIf="selectedLecon" class="modal-backdrop fade-in">
      <div class="modal-content-entrainement scale-in">
        <div class="modal-header">
          <h5 class="modal-title">D√©tail de la le√ßon</h5>
          <button class="btn-close" (click)="fermerModal()"></button>
        </div>
        <div class="modal-body">
          <p><strong>Date :</strong> {{ selectedLecon.date_lecon | date:'dd/MM/yyyy' }}</p>
          <p><strong>Cr√©neau :</strong> {{ selectedLecon.creneau }}</p>
          <p><strong>√âl√®ve :</strong> {{ selectedLecon.prenom }} {{ selectedLecon.nom }}</p>
          <p *ngIf="selectedLecon.voiture"><strong>Voiture :</strong> {{ selectedLecon.voiture }}</p>
          <p *ngIf="selectedLecon.avis"><strong>Avis :</strong> {{ selectedLecon.avis }}</p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" (click)="fermerModal()">Fermer</button>
        </div>
      </div>
    </div>
  
    <!-- avis -->
    <div *ngIf="showAvisModal" class="modal-backdrop fade-in">
      <div class="modal-content-entrainement scale-in">
        <div class="modal-header">
          <h5 class="modal-title">R√©diger un avis</h5>
          <button class="btn-close" (click)="fermerAvisModal()"></button>
        </div>
        <div class="modal-body">
          <textarea class="form-control" rows="5" [(ngModel)]="avisContenu" placeholder="Donnez un retour sur la s√©ance..."></textarea>
          <div *ngIf="messageAvis" class="text-success mt-2">{{ messageAvis }}</div>
        </div><br>
        <div class="modal-footer">
          <button class="btn btn-danger" *ngIf="leconSelectionneePourAvis?.avis" (click)="supprimerAvis()">Supprimer</button>&nbsp;
          <button class="btn btn-secondary" (click)="fermerAvisModal()">Annuler</button>&nbsp;
          <button class="btn btn-primary" (click)="envoyerAvis()">Enregistrer</button>
        </div>
      </div>
    </div>
  </div>
  